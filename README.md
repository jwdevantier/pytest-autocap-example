# Readme

This is an example showing the use of [pytest-autocap](https://pypi.org/project/pytest-autocap/).
Specifically, this toy example is supposed to illustrate how the test output directory will be
organized in response to the tests defined in this example project.


To run with autocap enabled, simply define the autocap base-directory where all the stdout/stderr
output logs will be written:

```
pytest --autocap-dir=/tmp/tests-log-output -s
```

Note `-s` (`--capture=no`) is added to disable pytest's default capture behavior. Note also that
autocap exit with an error instructing you to pass this option also, should you forget.

Given the tests defined, the output structure will become:
```
/tmp/tests-log-output
└── tests
    ├── package_a
    │   └── test_module_a
    │       ├── test_function_test
    │       │   ├── log.setup.txt
    │       │   ├── log.teardown.txt
    │       │   └── log.test.txt
    │       └── TestModAClass
    │           ├── test_one
    │           │   ├── log.setup.txt
    │           │   ├── log.teardown.txt
    │           │   └── log.test.txt
    │           └── test_two
    │               ├── log.setup.txt
    │               ├── log.teardown.txt
    │               └── log.test.txt
    └── package_b
        └── test_module_b
            └── TestModBClass
                ├── test_one
                │   ├── log.setup.txt
                │   ├── log.teardown.txt
                │   └── log.test.txt
                ├── test_two[1]
                │   ├── log.setup.txt
                │   ├── log.teardown.txt
                │   └── log.test.txt
                └── test_two[2]
                    ├── log.setup.txt
                    ├── log.teardown.txt
                    └── log.test.txt

```

Note how the directory structure closely aligns with how pytest refers to tests. Recall that in pytest, `tests/package_b/test_module_b.py::TestModBClass::test_two[2]` refers to `test_two` method given parameter `2`, located in the `TestModBClass` of the `test_module_b.py` module (file) of the `package_b` package (directory).
This test's output is located in the `tests/package_b/test_module_b/TestModBClass/test_two[2]` directory.

Now how each test directory contains the files `log.setup.txt`, `log.test.text` and `log.teardown.txt`. These respectively represent the output generated from any involved fixtures during setup (`log.setup.txt`), the output generated by the test itself (`log.test.txt`) and finally, the output generated by each of the involved fixtures during tear-down (`log.teardown.txt`).
